{"mappings":"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","sources":["node_modules/blueimp-md5/js/md5.js","node_modules/querystring-es3/decode.js","node_modules/querystring-es3/encode.js","node_modules/gravatar/lib/gravatar.js","/home/runner/work/carleton-web-dev/carleton-web-dev/node_modules/@parcel/scope-hoisting/lib/helpers.js","node_modules/gravatar/index.js","src/wc-course-website/data/users.js","src/wc-course-website/components/forumTopic/index.js","src/wc-course-website/components/contentLink.js"],"names":["$","safeAdd","x","y","lsw","md5cmn","q","a","b","s","t","num","cnt","md5ff","c","d","md5gg","md5hh","md5ii","binlMD5","len","i","olda","oldb","oldc","oldd","length","binl2rstr","input","output","length32","String","fromCharCode","rstr2binl","undefined","length8","charCodeAt","rstr2hex","charAt","str2rstrUTF8","unescape","encodeURIComponent","rawMD5","rstrMD5","rawHMACMD5","k","key","data","hash","bkey","ipad","opad","concat","rstrHMACMD5","md5","string","raw","$c1a8c865898d5490ec2adf7e856c788$exports","hasOwnProperty","obj","prop","Object","prototype","call","$f47969104ec7a4e63074c8f1f7aca2c$exports","qs","sep","eq","options","regexp","split","maxKeys","kstr","vstr","v","replace","idx","indexOf","substr","decodeURIComponent","isArray","push","Array","xs","toString","stringifyPrimitive","isFinite","$c84f32af54dd459780e0$exports","name","map","objectKeys","ks","join","f","res","keys","MD5_REGEX","proto","protocol","getHash","email","trim","toLowerCase","match","getQueryString","queryData","$fa74cd1e4f15e9216b08fb07927$export$stringify","params","removing","format","$edd9dbda54e9753e64b8eb470adfe97e$exports","url","baseURL","cdn","query","profile_url","https","__esModule","default","users","role","avatar","$d2a089fa0afad344f1a96ffb5250c0b8$$interop$default","r","getUser","username","find","user","ForumTopic","$d7f3e883460968146cf987de83434c3$init","DatabaseConsumer","window","HTMLElement","constructor","super","this","forumTopicTemplateId","topicData","notified","render","topic","URL","location","searchParams","has","topicId","get","$bf50779a85efbaabc121d74c5253077$init","databaseManager","getForumTopic","topicNode","document","querySelector","content","cloneNode","firstComment","comments","currentUser","$b9a8ee05339c723552067170e1cce6$export$getUser","src","alt","innerText","title","container","forEach","el","node","createElement","innerHTML","prepend","thread","slice","comment","commentNode","onclick","deleteTopicComment","appendChild","onsubmit","event","preventDefault","target","value","addTopicComment","$loki","$b9a8ee05339c723552067170e1cce6$export$users","customElements","define","ContentLink","getId","source","hasAttribute","getAttribute","parseInt","attr","$b16775c2d96d9b6bd584730e846d3822$init","createUrl","Error"],"version":3,"file":"topic.92f366e1.js.map","sourcesContent":["/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global define */\n\n/* eslint-disable strict */\n\n;(function ($) {\n  'use strict'\n\n  /**\n   * Add integers, wrapping at 2^32.\n   * This uses 16-bit operations internally to work around bugs in interpreters.\n   *\n   * @param {number} x First integer\n   * @param {number} y Second integer\n   * @returns {number} Sum\n   */\n  function safeAdd(x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xffff)\n  }\n\n  /**\n   * Bitwise rotate a 32-bit number to the left.\n   *\n   * @param {number} num 32-bit number\n   * @param {number} cnt Rotation count\n   * @returns {number} Rotated number\n   */\n  function bitRotateLeft(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} q q\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5cmn(q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ff(a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | (~b & d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5gg(a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5hh(a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ii(a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t)\n  }\n\n  /**\n   * Calculate the MD5 of an array of little-endian words, and a bit length.\n   *\n   * @param {Array} x Array of little-endian words\n   * @param {number} len Bit length\n   * @returns {Array<number>} MD5 Array\n   */\n  function binlMD5(x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << len % 32\n    x[(((len + 64) >>> 9) << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /**\n   * Convert an array of little-endian words to a string\n   *\n   * @param {Array<number>} input MD5 Array\n   * @returns {string} MD5 string\n   */\n  function binl2rstr(input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> i % 32) & 0xff)\n    }\n    return output\n  }\n\n  /**\n   * Convert a raw string to an array of little-endian words\n   * Characters >255 have their high-byte silently ignored.\n   *\n   * @param {string} input Raw input string\n   * @returns {Array<number>} Array of little-endian words\n   */\n  function rstr2binl(input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32\n    }\n    return output\n  }\n\n  /**\n   * Calculate the MD5 of a raw string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrMD5(s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /**\n   * Calculates the HMAC-MD5 of a key and some data (raw strings)\n   *\n   * @param {string} key HMAC key\n   * @param {string} data Raw input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrHMACMD5(key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5c5c5c5c\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /**\n   * Convert a raw string to a hex string\n   *\n   * @param {string} input Raw input string\n   * @returns {string} Hex encoded string\n   */\n  function rstr2hex(input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\n    }\n    return output\n  }\n\n  /**\n   * Encode a string as UTF-8\n   *\n   * @param {string} input Input string\n   * @returns {string} UTF8 string\n   */\n  function str2rstrUTF8(input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /**\n   * Encodes input string as raw MD5 string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawMD5(s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  /**\n   * Encodes input string as Hex encoded string\n   *\n   * @param {string} s Input string\n   * @returns {string} Hex encoded string\n   */\n  function hexMD5(s) {\n    return rstr2hex(rawMD5(s))\n  }\n  /**\n   * Calculates the raw HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawHMACMD5(k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  /**\n   * Calculates the Hex encoded HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function hexHMACMD5(k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\n  /**\n   * Calculates MD5 value for a given string.\n   * If a key is provided, calculates the HMAC-MD5 value.\n   * Returns a Hex encoded string unless the raw argument is given.\n   *\n   * @param {string} string Input string\n   * @param {string} [key] HMAC key\n   * @param {boolean} [raw] Raw output switch\n   * @returns {string} MD5 output\n   */\n  function md5(string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hexMD5(string)\n      }\n      return rawMD5(string)\n    }\n    if (!raw) {\n      return hexHMACMD5(key, string)\n    }\n    return rawHMACMD5(key, string)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return md5\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = md5\n  } else {\n    $.md5 = md5\n  }\n})(this)\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","var md5 = require('blueimp-md5'),\n    querystring = require('querystring'),\n    MD5_REGEX = /^[0-9a-f]{32}$/;\n\nfunction params(options) {\n  var params = {}, removing = {protocol:1, format:1};\n  for (var key in options) {\n    if (!removing[key]) params[key] = options[key];\n  }\n  return params;\n}\nfunction proto(options, protocol) {\n  if (!options) return;\n  if(typeof options.protocol === 'boolean') return options.protocol;\n  return options.protocol === \"http\" ? false\n       : options.protocol === \"https\" ? true\n       : undefined;\n}\nfunction getHash(email){\n  email = (typeof email === 'string') ? email.trim().toLowerCase() : 'unspecified';\n  return email.match(MD5_REGEX) ? email : md5(email);\n}\n\nfunction getQueryString(options){\n  var queryData = querystring.stringify(params(options));\n  return (queryData && \"?\" + queryData) || \"\";\n}\n\nvar gravatar = module.exports = {\n\n    url: function (email, options, protocol) {\n      var baseURL = \"//www.gravatar.com/avatar/\";\n      if (options && options.cdn) {\n        baseURL = options.cdn + '/avatar/';\n        delete options.cdn;\n      } else {\n        if (options && options.protocol) protocol = proto(options);\n        if(typeof protocol !== 'undefined') {\n          baseURL = protocol ? \"https://s.gravatar.com/avatar/\" : 'http://www.gravatar.com/avatar/';\n        }\n      }\n      var query = getQueryString(options);\n      return baseURL + getHash(email) + query;\n    },\n\n    profile_url: function (email, options, https) {\n      var format = options != undefined && options.format != undefined ?  String(options.format) : 'json'\n      var baseURL\n      if (options && options.cdn) {\n        baseURL = options.cdn + '/';\n        delete options.cdn;\n      } else {\n        if (options && options.protocol) https = proto(options);\n        var baseURL = (https && \"https://secure.gravatar.com/\") || 'http://www.gravatar.com/';\n      }\n      var query = getQueryString(options);\n      return baseURL + getHash(email) + '.' + format + query;\n    }\n};\n",null,"module.exports = require('./lib/gravatar');\n","import gravatar from 'gravatar';\n\nexport const users = [\n  {\n    name: 'admin',\n    role: 'admin',\n    email: 'admin@carleton.ca',\n    avatar: gravatar.url('admin@carleton.ca', { s: '200', r: 'pg', d: 'identicon' }),\n  },\n  {\n    name: 'student',\n    role: 'student',\n    email: 'student@carleton.ca',\n    avatar: gravatar.url('student@carleton.ca', { s: '200', r: 'pg', d: 'identicon' }),\n  }\n];\n\nexport const getUser = username => users.find(user => user.name === username);\n\n// Function that returns a promise to log-in a user based on a fake timeout. We could potentially\n// connect this to a real server in the future.\nexport const loginUser = username => new Promise((resolve, reject) => {\n  const found = users.find(user => user.email === username);\n\n  setTimeout(() => {\n    if (found) {\n      return resolve(found);\n    }\n    return reject(new Error('Invalid login'));\n  }, 1300);\n});\n","import { databaseManager } from '../../database';\nimport { users, getUser } from '../../data/users';\nimport { DatabaseConsumer } from '../base/databaseConsumer';\n\n/**\n * A specific topic from a forum. Will render all the comments for that topic as a discussion with the\n * ability to delete comments.  Will render the topic passed trough properties or through the `topic` search param.\n * All events are handled internally through the database manager.\n *\n * The component expects the forum search param to also be passed to identify which forum owns this topic.\n *\n * @prop {Topic} topic - Write only topic property to define which topic to render.\n *\n * @element forum-topic\n */\nexport class ForumTopic extends DatabaseConsumer(window.HTMLElement) {\n  constructor() {\n    super();\n\n    this.forumTopicTemplateId = '#forum-topic';\n\n    this.topicData = null;\n  }\n\n  notified() {\n    this.render();\n  }\n\n  set topic(topic) {\n    this.topicData = topic;\n    this.render();\n  }\n\n  render() {\n    let topic = null;\n    const query = new window.URL(window.location.toString());\n    if (this.topicData) {\n      topic = this.topicData;\n    } else if (query.searchParams.has('topic')) {\n      const topicId = query.searchParams.get('topic');\n      topic = databaseManager.getForumTopic(topicId);\n    } else {\n      return;\n    }\n\n    const topicTemplate = document.querySelector(this.forumTopicTemplateId).content;\n    const topicNode = topicTemplate.cloneNode(true);\n\n    const firstComment = topic.comments[0];\n    const currentUser = getUser(firstComment.user);\n    const avatar = topicNode.querySelector('[data-element=\"author-avatar\"]');\n\n    avatar.src = currentUser.avatar;\n    avatar.alt = currentUser.name;\n\n    const title = topicNode.querySelector('[data-element=\"title\"]');\n    title.innerText = topic.title;\n\n    topicNode.querySelector('[data-element=\"author-name\"]').innerText = currentUser.name;\n    topicNode.querySelector('[data-element=\"author-email\"]').innerText = currentUser.email;\n\n    const container = topicNode.querySelector('[data-element=\"content\"]');\n    firstComment.content.split('\\n').forEach(el => {\n      const node = document.createElement('p');\n      node.innerHTML = el;\n      container.prepend(node);\n    });\n\n    const thread = topicNode.querySelector('[data-element=\"thread\"]');\n    topic.comments.slice(1).forEach(comment => {\n      const commentTemplate = topicNode.querySelector('[data-element=\"comment\"]').content;\n      const commentNode = commentTemplate.cloneNode(true);\n\n      const currentUser = getUser(comment.user);\n      const avatar = commentNode.querySelector('[data-element=\"author-avatar\"]');\n      avatar.src = currentUser.avatar;\n      avatar.alt = currentUser.name;\n\n      commentNode.querySelector('[data-element=\"author-name\"]').innerText = currentUser.name;\n      commentNode.querySelector('[data-element=\"author-email\"]').innerText = currentUser.email;\n\n      const container = commentNode.querySelector('[data-element=\"content\"]');\n      comment.content.split('\\n').forEach(el => {\n        const node = document.createElement('p');\n        node.innerHTML = el;\n        container.prepend(node);\n      });\n\n      commentNode.querySelector('[data-element=\"delete-button\"]').onclick = () => {\n        databaseManager.deleteTopicComment(comment);\n      };\n\n      thread.appendChild(commentNode);\n    });\n\n    topicNode.querySelector('[data-element=\"new-comment\"]').onsubmit = event => {\n      event.preventDefault();\n\n      const content = event.target.querySelector('[data-element=\"topic-content\"]').value;\n\n      databaseManager.addTopicComment(topic.$loki, users[0].name, content);\n    };\n\n    this.innerHTML = '';\n    this.appendChild(topicNode);\n  }\n}\n\nwindow.customElements.define('forum-topic', ForumTopic);\n","import { DatabaseConsumer } from './base/databaseConsumer';\nimport { createUrl } from '../utilities/createUrl';\n\n/**\n * Component that will render an anchor with the URL to a specific type in the database. Will find the\n * element using the attribute `element-id` or with a search param equal to the source attribute.\n *\n * @attr {lectures|tutorials|assignments|forums} source - What element to source from the database. Will trigger\n * an error if the source is not one of the valid values.\n *\n * @attr {String} element-id - Id of the element to render the name for.\n *\n * @element content-link\n */\nclass ContentLink extends DatabaseConsumer(window.HTMLElement) {\n  notified() {\n    this.render();\n  }\n\n  getId(source) {\n    const query = new window.URL(window.location.toString());\n    if (this.hasAttribute('element-id')) {\n      return this.getAttribute('element-id');\n    } else if (query.searchParams.has(source)) {\n      return parseInt(query.searchParams.get(source));\n    }\n    return -1;\n  }\n\n  render() {\n    let url = null;\n    const attr = this.getAttribute('source');\n    switch (attr) {\n      case 'lectures': {\n        url = createUrl('lecture', this.getId('lecture'));\n        break;\n      }\n      case 'tutorials': {\n        url = createUrl('tutorial', this.getId('tutorial'));\n        break;\n      }\n      case 'assignments': {\n        url = createUrl('assignment', this.getId('assignment'));\n        break;\n      }\n      case 'forums': {\n        url = createUrl('forum', this.getId('forum'));\n        break;\n      }\n      default:\n        throw new Error(`Unknown course content type ${attr}`);\n    }\n\n    this.innerHTML = `<a href=\"${url}\">${this.innerHTML}</a>`;\n  }\n}\n\nwindow.customElements.define('content-link', ContentLink);\n"]}