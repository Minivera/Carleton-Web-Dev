!function(){var e=parcelRequire("8dc4bd82eadd83b135ac82ece8b7911c"),t=parcelRequire("7efb332d8ccb9a6b3f962ac63aa3525c"),r=parcelRequire("b2736226bbcf175e104b7e710aa92180"),n={},o={},c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};null==c.parcelRequire&&(c.parcelRequire=function(e){if(e in o&&(o[e](),delete o[e]),e in n)return n[e];if("undefined"!=typeof module&&"function"==typeof module.require)return module.require(e);var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t},c.parcelRequire.register=function(e,t){n[e]=t},c.parcelRequire.registerBundle=function(e,t){o[e]=t,n[e]={}});var i={},u={};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var n,o,c,i=s(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).lectureTemplateId="#single-lecture",e.lectureData=null,e}return n=u,(o=[{key:"notified",value:function(){this.render()}},{key:"render",value:function(){this.classList.add("panel"),this.classList.add("is-primary");var e=null,n=new window.URL(window.location.toString());if(this.lectureData)e=this.lectureData;else{if(!n.searchParams.has("lecture"))return;var o=n.searchParams.get("lecture");e=r().databaseManager.getLecture(o)}if(e){var c=document.querySelector(this.lectureTemplateId).content.cloneNode(!0),i=c.querySelector('[data-element="title-link"]');i.href=t().createUrl("lecture",e.$loki),i.innerText=e.unit;var u=this.getAttribute("delete-path");c.querySelector('[data-element="delete-button"]').onclick=function(){r().databaseManager.deleteLecture(e),u&&(window.location.href=u)};var a=c.querySelector('[data-list="slides"]').content;e.recordings&&e.slides.forEach((function(e){var t=a.cloneNode(!0);t.querySelector("div").appendChild(document.createTextNode(e.title)),c.appendChild(t)}));var l=c.querySelector('[data-list="recordings"]').content;e.recordings&&e.recordings.forEach((function(e){var t=l.cloneNode(!0);t.querySelector("div").appendChild(document.createTextNode(e.title)),c.appendChild(t)}));var f=c.querySelector('[data-list="code"]').content;e.code&&e.code.forEach((function(e){var t=f.cloneNode(!0);t.querySelector("div").appendChild(document.createTextNode(e.title)),c.appendChild(t)})),this.innerHTML="",this.appendChild(c)}}},{key:"lecture",set:function(e){this.lectureData=e,this.render()}}])&&l(n.prototype,o),c&&l(n,c),u}(e().DatabaseConsumer(window.HTMLDivElement));function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w(this,r)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}u.Lecture=y,window.customElements.define("single-lecture",y,{extends:"div"});var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(u,e);var n,o,c,i=v(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).lecturesTemplateId="#lectures-list",e}return n=u,(o=[{key:"notified",value:function(){this.render()}},{key:"render",value:function(){var e=r().databaseManager.getLectures(),n=document.querySelector(this.lecturesTemplateId).content.cloneNode(!0),o=n.querySelector('[data-element="lectures"]');if(e.forEach((function(e){var t=new y;t.lecture=e,o.appendChild(t)})),new window.URL(window.location.toString()).searchParams.has("new")){var c=function(){window.location.href=t().createUrl("lectures")},i=n.querySelector('[data-element="new-modal"]');i.classList.add("is-active"),i.querySelector('[data-element="new-form"]').onsubmit=function(e){e.preventDefault();var n=e.target.querySelector("input").value,o=r().databaseManager.addLecture(n);window.location.href=t().createUrl("lecture",o.$loki)},i.querySelector('[data-element="cancel-button"]').onclick=c,i.querySelector('[data-element="close-button"]').onclick=c}this.innerHTML="",this.appendChild(n)}}])&&h(n.prototype,o),c&&h(n,c),u}(e().DatabaseConsumer(window.HTMLElement));i.Lectures=S,window.customElements.define("lectures-list",S),parcelRequire.register("6181bd881d7cc09a0c9d7c12c0efa63f",(function(){return i})),parcelRequire.register("f09ff9c85a1a155fe0c1bcd4dcd9361e",(function(){return u}))}();
//# sourceMappingURL=lectures.e04259df.js.map
