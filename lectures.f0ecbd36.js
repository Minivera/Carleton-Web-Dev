!function(){var e=parcelRequire("b2736226bbcf175e104b7e710aa92180"),t={},n={},r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}null==r.parcelRequire&&(r.parcelRequire=function(e){if(e in n&&(n[e](),delete n[e]),e in t)return t[e];if("undefined"!=typeof module&&"function"==typeof module.require)return module.require(e);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r},r.parcelRequire.register=function(e,n){t[e]=n},r.parcelRequire.registerBundle=function(e,r){n[e]=r,t[e]={}});var d=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,window.HTMLDivElement);var n,r,o,a=u(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(e=a.call(this)).lectureTemplateId="#single-lecture",e.unsuscriber=null,e.render(),e}return n=l,o=[{key:"observedAttributes",get:function(){return["lecture-id"]}}],(r=[{key:"connectedCallback",value:function(){this.isConnected&&(this.unsuscriber=e().databaseManager.subscribe(this.render.bind(this)))}},{key:"disconnectedCallback",value:function(){this.unsuscriber&&this.unsuscriber()}},{key:"attributeChangedCallback",value:function(e,t,n){"lecture-id"===e&&t!==n&&this.render()}},{key:"render",value:function(){if(e().databaseManager.ready){this.classList.add("panel"),this.classList.add("is-primary");var t=null,n=new window.URL(window.location.toString());if(this.hasAttribute("lecture-id"))t=this.getAttribute("lecture-id");else{if(!n.searchParams.has("lecture"))return;t=n.searchParams.get("lecture")}var r=e().databaseManager.getLecture(t);if(r){var o=document.querySelector(this.lectureTemplateId).content.cloneNode(!0),i=o.querySelector('[data-element="title-link"]');i.href="/wc-course-website/lecture/index.html?lecture=".concat(r.$loki),i.innerText=r.unit;var c=this.getAttribute("delete-path");o.querySelector('[data-element="delete-button"]').onclick=function(){e().databaseManager.deleteLecture(r),c&&(window.location.href=c)};var u=o.querySelector('[data-list="slides"]').content;r.recordings&&r.slides.forEach((function(e){var t=u.cloneNode(!0);t.querySelector("div").appendChild(document.createTextNode(e.title)),o.appendChild(t)}));var a=o.querySelector('[data-list="recordings"]').content;r.recordings&&r.recordings.forEach((function(e){var t=a.cloneNode(!0);t.querySelector("div").appendChild(document.createTextNode(e.title)),o.appendChild(t)}));var l=o.querySelector('[data-list="code"]').content;r.code&&r.code.forEach((function(e){var t=l.cloneNode(!0);t.querySelector("div").appendChild(document.createTextNode(e.title)),o.appendChild(t)})),this.innerHTML="",this.appendChild(o)}}}}])&&i(n.prototype,r),o&&i(n,o),l}();window.customElements.define("single-lecture",d,{extends:"div"}),parcelRequire.register("f09ff9c85a1a155fe0c1bcd4dcd9361e",(function(){return{}}))}();
//# sourceMappingURL=lectures.f0ecbd36.js.map
