import{$c66f6e4c90ec2f42bea99f8e4417650$init as e}from"./assignments.f6fe2938.js";import{$e5f55b2e41da3fb2956aa19b001706b$init as t,$bf50779a85efbaabc121d74c5253077$init as n,$b16775c2d96d9b6bd584730e846d3822$init as s,$d7f3e883460968146cf987de83434c3$init as a}from"./forums.bd3f4101.js";class o extends t().Collapsible{constructor(){super("#collapsible-content",!0)}render(){super.render(),this.querySelector('[data-element="title"]').innerText=this.getAttribute("title")}}window.customElements.define("collapsible-content",o);class i extends(a().DatabaseConsumer(window.HTMLElement)){constructor(){super(),this.assignmentsTemplateId="#assignments-list"}notified(){this.render()}render(){const t=n().databaseManager.getAssignments(),a=document.querySelector(this.assignmentsTemplateId).content.cloneNode(!0),o=a.querySelector('[data-element="assignments"]');if(t.forEach(t=>{const n=new(e().Assignment);n.assignment=t,o.appendChild(n)}),new window.URL(window.location.toString()).searchParams.has("new")){const e=()=>{window.location.href=s().createUrl("assignments")},t=a.querySelector('[data-element="new-modal"]');t.classList.add("is-active"),t.querySelector('[data-element="new-form"]').onsubmit=e=>{e.preventDefault();const t=e.target.querySelector("input").value,a=n().databaseManager.addAssignment(t);window.location.href=s().createUrl("assignment",a.$loki)},t.querySelector('[data-element="cancel-button"]').onclick=e,t.querySelector('[data-element="close-button"]').onclick=e}this.innerHTML="",this.appendChild(a)}}window.customElements.define("assignments-list",i);
//# sourceMappingURL=assignments.b8c6dbd0.js.map
