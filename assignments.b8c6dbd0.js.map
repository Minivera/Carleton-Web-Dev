{"mappings":"mWAUO,MAAMA,UAANC,IAAAC,YACLC,cACEC,MAAM,wBAAwB,GAGhCC,SACED,MAAMC,SAEYC,KAAKC,cAAc,0BAC3BC,UAAYF,KAAKG,aAAa,UAI5CC,OAAOC,eAAeC,OAAO,sBAAuBZ,GCb7C,MAAMa,UAAoBC,IAAAC,iBAAiBL,OAAOM,cACvDb,cACEC,QAEAE,KAAKW,sBAAwB,oBAG/BC,WACEZ,KAAKD,SAGPA,SACE,MAAMc,EAAcC,IAAAC,gBAAgBC,iBAG9BC,EADsBC,SAASjB,cAAcD,KAAKW,uBAAuBQ,QACnCC,WAAU,GAChDC,EAAYJ,EAAgBhB,cAAc,gCAShD,GAPAY,EAAYS,QAAQC,IAClB,MAAMC,EAAO,IAAAC,IAAA,YACbD,EAAKD,WAAaA,EAClBF,EAAUK,YAAYF,KAGV,IAAIpB,OAAOuB,IAAIvB,OAAOwB,SAASC,YACnCC,aAAaC,IAAI,OAAQ,CACjC,MAAMC,EAAQ,KACZ5B,OAAOwB,SAASK,KAAOC,IAAAC,UAAU,gBAG7BC,EAAQnB,EAAgBhB,cAAc,8BAC5CmC,EAAMC,UAAUC,IAAI,aAEpBF,EAAMnC,cAAc,6BAA6BsC,SAAWC,IAC1DA,EAAMC,iBAEN,MAAMC,EAAOF,EAAMG,OAAO1C,cAAc,SAAS2C,MAE3CC,EAAW/B,IAAAC,gBAAgB+B,cAAcJ,GAC/CtC,OAAOwB,SAASK,KAAOC,IAAAC,UAAU,aAAcU,EAASE,QAG1DX,EAAMnC,cAAc,kCAAkC+C,QAAUhB,EAChEI,EAAMnC,cAAc,iCAAiC+C,QAAUhB,EAGjEhC,KAAKiD,UAAY,GACjBjD,KAAK0B,YAAYT,IAIrBb,OAAOC,eAAeC,OAAO,mBAAoBC","sources":["src/wc-course-website/components/collapsibleContent/index.js","src/wc-course-website/components/assignments/index.js"],"names":["CollapsibleContent","$e5f55b2e41da3fb2956aa19b001706b$init","Collapsible","constructor","super","render","this","querySelector","innerText","getAttribute","window","customElements","define","Assignments","$d7f3e883460968146cf987de83434c3$init","DatabaseConsumer","HTMLElement","assignmentsTemplateId","notified","assignments","$bf50779a85efbaabc121d74c5253077$init","databaseManager","getAssignments","assignmentsNode","document","content","cloneNode","container","forEach","assignment","node","$c66f6e4c90ec2f42bea99f8e4417650$init","appendChild","URL","location","toString","searchParams","has","close","href","$b16775c2d96d9b6bd584730e846d3822$init","createUrl","modal","classList","add","onsubmit","event","preventDefault","name","target","value","tutorial","addAssignment","$loki","onclick","innerHTML"],"version":3,"file":"assignments.b8c6dbd0.js.map","sourcesContent":["import { Collapsible } from '../base/collapsible';\n\n/**\n * Collapsible content that renders its content with the ability to click a chevron icon\n * to collapse or expand it. Expanded by default.\n *\n * @attr {String} title - title to display next to the icon and above the content.\n *\n * @element collapsible-content\n */\nexport class CollapsibleContent extends Collapsible {\n  constructor() {\n    super('#collapsible-content', true);\n  }\n\n  render() {\n    super.render();\n\n    const titleNode = this.querySelector('[data-element=\"title\"]');\n    titleNode.innerText = this.getAttribute('title');\n  }\n}\n\nwindow.customElements.define('collapsible-content', CollapsibleContent);\n","import { databaseManager } from '../../database';\nimport { DatabaseConsumer } from '../base/databaseConsumer';\nimport { Assignment } from '../assignment';\nimport { createUrl } from '../../utilities/createUrl';\n\n/**\n * List of assignments from the database. Will render all assignments without any filtering or sorting.\n *\n * @element assignments-list\n */\nexport class Assignments extends DatabaseConsumer(window.HTMLElement) {\n  constructor() {\n    super();\n\n    this.assignmentsTemplateId = '#assignments-list';\n  }\n\n  notified() {\n    this.render();\n  }\n\n  render() {\n    const assignments = databaseManager.getAssignments();\n\n    const assignmentsTemplate = document.querySelector(this.assignmentsTemplateId).content;\n    const assignmentsNode = assignmentsTemplate.cloneNode(true);\n    const container = assignmentsNode.querySelector('[data-element=\"assignments\"]');\n\n    assignments.forEach(assignment => {\n      const node = new Assignment();\n      node.assignment = assignment;\n      container.appendChild(node);\n    });\n\n    const query = new window.URL(window.location.toString());\n    if (query.searchParams.has('new')) {\n      const close = () => {\n        window.location.href = createUrl('assignments');\n      };\n\n      const modal = assignmentsNode.querySelector('[data-element=\"new-modal\"]');\n      modal.classList.add('is-active');\n\n      modal.querySelector('[data-element=\"new-form\"]').onsubmit = event => {\n        event.preventDefault();\n\n        const name = event.target.querySelector('input').value;\n\n        const tutorial = databaseManager.addAssignment(name);\n        window.location.href = createUrl('assignment', tutorial.$loki);\n      };\n\n      modal.querySelector('[data-element=\"cancel-button\"]').onclick = close;\n      modal.querySelector('[data-element=\"close-button\"]').onclick = close;\n    }\n\n    this.innerHTML = '';\n    this.appendChild(assignmentsNode);\n  }\n}\n\nwindow.customElements.define('assignments-list', Assignments);\n"]}