import{$bf50779a85efbaabc121d74c5253077$init as e,$b16775c2d96d9b6bd584730e846d3822$init as t,$d7f3e883460968146cf987de83434c3$init as n}from"./forums.d3b6e00b.js";var s={};class i extends(n().DatabaseConsumer(window.HTMLDivElement)){constructor(){super(),this.assignmentTemplateId="#single-assignment",this.assignmentData=null}notified(){this.render()}set assignment(e){this.assignmentData=e,this.render()}render(){this.classList.add("panel"),this.classList.add("is-success");let n=null;const s=new window.URL(window.location.toString());if(this.assignmentData)n=this.assignmentData;else{if(!s.searchParams.has("assignment"))return;{const t=s.searchParams.get("assignment");n=e().databaseManager.getAssignment(t)}}if(!n)return;const i=document.querySelector(this.assignmentTemplateId).content.cloneNode(!0),a=i.querySelector('[data-element="title-link"]');a.href=t().createUrl("assignment",n.$loki),a.innerText=n.name;const r=this.getAttribute("delete-path");i.querySelector('[data-element="delete-button"]').onclick=()=>{e().databaseManager.deleteAssignment(n),r&&(window.location.href=r)};const o=i.querySelector('[data-list="specfile"]').content;if(n.specfile){const e=o.cloneNode(!0);e.querySelector("div").appendChild(document.createTextNode(n.specfile.title)),i.appendChild(e)}const c=i.querySelector('[data-list="resources"]').content;n.resources&&n.resources.forEach(e=>{const t=c.cloneNode(!0);t.querySelector("div").appendChild(document.createTextNode(e.title)),i.appendChild(t)}),this.innerHTML="",this.appendChild(i)}}s.Assignment=i,window.customElements.define("single-assignment",i,{extends:"div"});export function $c66f6e4c90ec2f42bea99f8e4417650$init(){return s}
//# sourceMappingURL=assignments.f5386d83.js.map
