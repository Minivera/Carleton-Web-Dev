{"mappings":"4KAAIA,EAAkB,GAClBC,EAAkB,GAElBC,EACoB,oBAAfC,WACHA,WACgB,oBAATC,KACPA,KACkB,oBAAXC,OACPA,OACkB,oBAAXC,OACPA,OACA,GAE4B,MAA9BJ,EAAaK,gBACfL,EAAaK,cAAgB,SAASC,GAOpC,GALIA,KAAQP,IACVA,EAAgBO,YACTP,EAAgBO,IAGrBA,KAAQR,EACV,OAAOA,EAAgBQ,GAKzB,GAAsB,oBAAXC,QAAoD,mBAAnBA,OAAOC,QACjD,OAAOD,OAAOC,QAAQF,GAGxB,IAAIG,EAAM,IAAIC,MAAM,uBAAyBJ,EAAO,KAEpD,MADAG,EAAIE,KAAO,mBACLF,GAGRT,EAAaK,cAAcO,SAAW,SAAkBC,EAAIC,GAC1DhB,EAAgBe,GAAMC,GAGxBd,EAAaK,cAAcU,eAAiB,SAAwBF,EAAIG,GACtEjB,EAAgBc,GAAMG,EACtBlB,EAAgBe,GAAM,2tCCvCbI,wQACX,SAAAA,IAAc,IAAAC,EAAA,mGAAAC,CAAAC,KAAAH,IACZC,EAAAG,EAAAC,KAAAF,OAEKG,mBAAqB,mBAE1BL,EAAKM,aAAe,KALRN,kDASZE,KAAKK,0CASLL,KAAKM,UAAUC,IAAI,SACnBP,KAAKM,UAAUC,IAAI,WAEnB,IAAIC,EAAW,KACTC,EAAQ,IAAI1B,OAAO2B,IAAI3B,OAAO4B,SAASC,YAC7C,GAAIZ,KAAKI,aACPI,EAAWR,KAAKI,iBACX,CAAA,IAAIK,EAAMI,aAAaC,IAAI,YAIhC,OAHA,IAAMC,EAAaN,EAAMI,aAAaG,IAAI,YAC1CR,EAAWS,IAAAC,gBAAgBC,aAAaJ,GAK1C,GAAKP,EAAL,CAIA,IACMY,EADmBC,SAASC,cAActB,KAAKG,oBAAoBoB,QACnCC,WAAU,GAE1CC,EAAQL,EAAaE,cAAc,+BACzCG,EAAMC,KAAOC,IAAAC,UAAU,WAAYpB,EAASqB,OAC5CJ,EAAMK,UAAYtB,EAAStB,KAE3B,IAAM6C,EAAa/B,KAAKgC,aAAa,eAChBZ,EAAaE,cAAc,kCACnCW,QAAU,WACrBhB,IAAAC,gBAAgBgB,eAAe1B,GAC3BuB,IACFhD,OAAO4B,SAASe,KAAOK,IAI3B,IAAMI,EAAmBf,EAAaE,cAAc,0BAA0BC,QAC9E,GAAIf,EAAS4B,SAAU,CACrB,IAAMC,EAAOF,EAAiBX,WAAU,GACtBa,EAAKf,cAAc,OAC3BgB,YAAYjB,SAASkB,eAAe/B,EAAS4B,SAASX,QAChEL,EAAakB,YAAYD,GAG3B,IAAMG,EAAoBpB,EAAaE,cAAc,2BAA2BC,QAC5Ef,EAASiC,WACXjC,EAASiC,UAAUC,SAAQ,SAAAC,GACzB,IAAMN,EAAOG,EAAkBhB,WAAU,GACvBa,EAAKf,cAAc,OAC3BgB,YAAYjB,SAASkB,eAAeI,EAASlB,QACvDL,EAAakB,YAAYD,MAI7BrC,KAAK4C,UAAY,GACjB5C,KAAKsC,YAAYlB,mCA3DNZ,GACXR,KAAKI,aAAeI,EACpBR,KAAKK,4CAfqBwC,IAAAC,iBAAiB/D,OAAOgE,8BA4EtDhE,OAAOiE,eAAeC,OAAO,kBAAmBpD,EAAU,CAAEqD,QAAS","sources":["/home/runner/work/carleton-web-dev/carleton-web-dev/node_modules/@parcel/scope-hoisting/lib/prelude.js","src/wc-course-website/components/tutorial/index.js"],"names":["$parcel$modules","$parcel$bundles","globalObject","globalThis","self","window","global","parcelRequire","name","module","require","err","Error","code","register","id","exports","registerBundle","fn","Tutorial","_this","$c55b2f3409a935cbfcc3349f18efa34$var$_classCallCheck","this","_super","call","tutorialTemplateId","tutorialData","render","classList","add","tutorial","query","URL","location","toString","searchParams","has","tutorialId","get","$b2736226bbcf175e104b7e710aa92180$init","databaseManager","getTutorials","tutorialNode","document","querySelector","content","cloneNode","title","href","$efb332d8ccb9a6b3f962ac63aa3525c$init","createUrl","$loki","innerText","deletePath","getAttribute","onclick","deleteTutorial","specfileTemplate","specfile","node","appendChild","createTextNode","resourcesTemplate","resources","forEach","resource","innerHTML","$dc4bd82eadd83b135ac82ece8b7911c$init","DatabaseConsumer","HTMLDivElement","customElements","define","extends"],"version":3,"file":"tutorials.7eb58f7c.js.map","sourcesContent":[null,"import { databaseManager } from '../../database';\nimport { DatabaseConsumer } from '../base/databaseConsumer';\nimport { createUrl } from '../../utilities/createUrl';\n\nexport class Tutorial extends DatabaseConsumer(window.HTMLDivElement) {\n  constructor() {\n    super();\n\n    this.tutorialTemplateId = '#single-tutorial';\n\n    this.tutorialData = null;\n  }\n\n  notified() {\n    this.render();\n  }\n\n  set tutorial(tutorial) {\n    this.tutorialData = tutorial;\n    this.render();\n  }\n\n  render() {\n    this.classList.add('panel');\n    this.classList.add('is-info');\n\n    let tutorial = null;\n    const query = new window.URL(window.location.toString());\n    if (this.tutorialData) {\n      tutorial = this.tutorialData;\n    } else if (query.searchParams.has('tutorial')) {\n      const tutorialId = query.searchParams.get('tutorial');\n      tutorial = databaseManager.getTutorials(tutorialId);\n    } else {\n      return;\n    }\n\n    if (!tutorial) {\n      return;\n    }\n\n    const tutorialTemplate = document.querySelector(this.tutorialTemplateId).content;\n    const tutorialNode = tutorialTemplate.cloneNode(true);\n\n    const title = tutorialNode.querySelector('[data-element=\"title-link\"]');\n    title.href = createUrl('tutorial', tutorial.$loki);\n    title.innerText = tutorial.name;\n\n    const deletePath = this.getAttribute('delete-path');\n    const deleteButton = tutorialNode.querySelector('[data-element=\"delete-button\"]');\n    deleteButton.onclick = () => {\n      databaseManager.deleteTutorial(tutorial);\n      if (deletePath) {\n        window.location.href = deletePath;\n      }\n    };\n\n    const specfileTemplate = tutorialNode.querySelector('[data-list=\"specfile\"]').content;\n    if (tutorial.specfile) {\n      const node = specfileTemplate.cloneNode(true);\n      const container = node.querySelector('div');\n      container.appendChild(document.createTextNode(tutorial.specfile.title));\n      tutorialNode.appendChild(node);\n    }\n\n    const resourcesTemplate = tutorialNode.querySelector('[data-list=\"resources\"]').content;\n    if (tutorial.resources) {\n      tutorial.resources.forEach(resource => {\n        const node = resourcesTemplate.cloneNode(true);\n        const container = node.querySelector('div');\n        container.appendChild(document.createTextNode(resource.title));\n        tutorialNode.appendChild(node);\n      });\n    }\n\n    this.innerHTML = '';\n    this.appendChild(tutorialNode);\n  }\n}\n\nwindow.customElements.define('single-tutorial', Tutorial, { extends: 'div' });\n"]}