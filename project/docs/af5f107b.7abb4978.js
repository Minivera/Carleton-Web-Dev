(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{63:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var o=n(2),r=n(6),a=(n(0),n(73)),i={title:"Library overview"},l={unversionedId:"introduction/virtual-dom",id:"introduction/virtual-dom",isDocsHomePage:!0,title:"Library overview",description:"This library, temporarily named VirtualDOM, is yet-another-frontend-framework for creating single-page applications",source:"@site/docs/introduction/virtual-dom.md",permalink:"/carleton-web-dev/project/docs/",sidebar:"docs",next:{title:"Getting started",permalink:"/carleton-web-dev/project/docs/introduction/getting-started"}},c=[{value:"Motivations",id:"motivations",children:[{value:"Easy to debug",id:"easy-to-debug",children:[]},{value:"Portable",id:"portable",children:[]},{value:"Extensible",id:"extensible",children:[]}]}],s={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(o.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"This library, temporarily named VirtualDOM, is yet-another-frontend-framework for creating single-page applications\n. VirtualDOM stands out from the crowd by focusing on portability, extensibility and simplicity. The framework\nprovides the strict minimum for modern building web applications with components while giving the developer the\nability to very easily hack into the framework and add any pattern they can imagine."),Object(a.b)("h2",{id:"motivations"},"Motivations"),Object(a.b)("p",null,"VirtualDOM was created as part of a directed study at Carleton university. The goal was to study technologies for\ncreating web applications, namely the virtual DOM pattern, web components, and Web Assembly. The final goal of this\ncourse was to create a complete UI framework that attempts to solve some of the issues that plague many frameworks."),Object(a.b)("p",null,"After studying the algorithms and inner-workings of a dozen frameworks - plus reading the documentation of over\nthirty - I compiled a description of the render algorithms, and a list of objectives I wanted to achieve with this\nlibrary. There were two things that stood out to me when studying all those frameworks: they mostly all were very\nhard to debug without the use of specific tools, and many existed within their own ecosystem. The most popular\nlibraries also all seemed to limit themselves by diffing their entire virtual tree on every update. While I have yet\nto find proof this patterns hurts performance in anything but massive applications, it has a noticeable impact on\nmemory usage from all those recursive functions."),Object(a.b)("p",null,"My objective with this library was to offer a potential solution to the issues I identified. I hope to bring some\nideas to the table, or at least my version of the solutions if they already exist within the community."),Object(a.b)("h3",{id:"easy-to-debug"},"Easy to debug"),Object(a.b)("p",null,"A web application should not be a black box that can only be explored using chrome-only extensions or advanced tools\n. One should be able to look at the DOM structure and extract the information they need from it."),Object(a.b)("p",null,"To that end, VirtualDOM adds its components directly in the DOM structure as custom elements. Each element has\nproperties and methods to manage their own virtual tree (the tree of Virtual DOM nodes) and that tree stops when it\nhits another component. Using the function available in vanilla JavaScript, a developer can very easily access that\ntree and trigger updates or state changes. Consider this DOM structure:"),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-html"}),"\x3c!-- This is the custom element created by the library. --\x3e\n<vdom-component>\n  <div>\n    <h1>Hello, World!</h1>\n  </div>\n</vdom-component>\n")),Object(a.b)("p",null,"A developer can get that node using ",Object(a.b)("inlineCode",{parentName:"p"},"document.querySelector()")," and then explore the tree directly. For example:"),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-javascript"}),"const node = document.querySelector(...);\n\nnode.tree;\n/*\nHtmlNode {\n  tag: 'div',\n  attributes: {},\n  children: [\n    HtmlNode {\n      tag: 'h1',\n      attributes: {},\n      children: [\n         TextNode{ text: 'Hello, World!' },\n      ],\n    },\n  ],\n}\n*/\n")),Object(a.b)("h3",{id:"portable"},"Portable"),Object(a.b)("p",null,"Since each custom component own their own virtual tree and are tasked with managing their own update cycles, you can\nsafely call the VirtualDOM creator as many time as needed. More importantly, the root custom element created through\nthe framework can be safely moved or removed without the need to use the framework. Developers can safely manipulate\nthe custom element from another framework as well."),Object(a.b)("p",null,"For example:"),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-javascript"}),"new VirtualDOM(Component).renderInto('#app');\n\nconst node = document.querySelector('#app > vdom-component');\n// We can do whatever we want to this node, like moving it or deleting it.\n")),Object(a.b)("p",null,"Portability is something I feel strongly about and would like to improve in the future, in particular:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Allow renaming the custom element to make sure they can easily be found with ",Object(a.b)("inlineCode",{parentName:"li"},"querySelector"),"."),Object(a.b)("li",{parentName:"ul"},"Allow creating the components directly through HTML and having a method for the framework to find and create those\ncomponents"),Object(a.b)("li",{parentName:"ul"},"Allow passing HTML to the components when created through HTML or frameworks, and have that HTML be converted to a\nvirtual DOM structure.")),Object(a.b)("h3",{id:"extensible"},"Extensible"),Object(a.b)("p",null,"Each developer have their own opinions on what style of API they would like to use when creating web applications\n. I personally often look for ways to add my favorite APIs or tools from other frameworks into the one I am using and\nfeel disappointed when I see that the framework does not support them. Virtual DOM makes only one assumption with how\nit handles components - they should only be functions - and allows developers to hook into its node creation cycle\nthrough the use of component contexts."),Object(a.b)("p",null,"You can read more about context in the ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"/context/overview"}),"context")," section of this documentation. The\n",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"/recipes/recipe-index"}),"recipes")," section also list a few recipes showing how to add advanced APIs to the framework\nthroughcontext, including React-like context API, state reducers, lifecycle methods, or React-like hooks."))}u.isMDXComponent=!0},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var o=n(0),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),u=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=u(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},h=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=u(n),h=o,m=d["".concat(i,".").concat(h)]||d[h]||p[h]||a;return n?r.a.createElement(m,l(l({ref:t},s),{},{components:n})):r.a.createElement(m,l({ref:t},s))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=h;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<a;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}h.displayName="MDXCreateElement"}}]);