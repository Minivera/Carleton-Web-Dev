import{$bf50779a85efbaabc121d74c5253077$init as e,$b16775c2d96d9b6bd584730e846d3822$init as t,$d7f3e883460968146cf987de83434c3$init as r}from"./forums.bd3f4101.js";var n={};class c extends(r().DatabaseConsumer(window.HTMLDivElement)){constructor(){super(),this.lectureTemplateId="#single-lecture",this.lectureData=null}notified(){this.render()}set lecture(e){this.lectureData=e,this.render()}render(){this.classList.add("panel"),this.classList.add("is-primary");let r=null;const n=new window.URL(window.location.toString());if(this.lectureData)r=this.lectureData;else{if(!n.searchParams.has("lecture"))return;{const t=n.searchParams.get("lecture");r=e().databaseManager.getLecture(t)}}if(!r)return;const c=document.querySelector(this.lectureTemplateId).content.cloneNode(!0),o=c.querySelector('[data-element="title-link"]');o.href=t().createUrl("lecture",r.$loki),o.innerText=r.unit;const a=this.getAttribute("delete-path");c.querySelector('[data-element="delete-button"]').onclick=()=>{e().databaseManager.deleteLecture(r),a&&(window.location.href=a)};const i=c.querySelector('[data-list="slides"]').content;r.recordings&&r.slides.forEach(e=>{const t=i.cloneNode(!0);t.querySelector("div").appendChild(document.createTextNode(e.title)),c.appendChild(t)});const d=c.querySelector('[data-list="recordings"]').content;r.recordings&&r.recordings.forEach(e=>{const t=d.cloneNode(!0);t.querySelector("div").appendChild(document.createTextNode(e.title)),c.appendChild(t)});const l=c.querySelector('[data-list="code"]').content;r.code&&r.code.forEach(e=>{const t=l.cloneNode(!0);t.querySelector("div").appendChild(document.createTextNode(e.title)),c.appendChild(t)}),this.innerHTML="",this.appendChild(c)}}n.Lecture=c,window.customElements.define("single-lecture",c,{extends:"div"});export function $c3aae675162b2de6e5167b700184678$init(){return n}
//# sourceMappingURL=lectures.6e64ad41.js.map
